function SubSocketButton(t,o=!1,n){if(o)var e="version-test";else e="version-live";fetch(`${"https://www.subsocket.io/"+e+"/api/1.1/obj/checkout/"+t}`).then(function(t){return t.json()}).then(function(t){i(t.response)}).catch(function(t){console.warn("Something went wrong with retrieving the Checkout details from SubSocket.",t)});const i=t=>{paypal.Buttons({style:n.style,createSubscription:function(o,n){return n.subscription.create({plan_id:t["Plan ID"]})},onApprove:function(o,n){c(t,o.subscriptionID)},onError:function(o){console.log(o),window.location.href=t["Cancel URL"]}}).render("#subsocket_paypal_button")},c=(t,o)=>{s(t,o)},s=(o,n)=>{var i=JSON.stringify({Checkout:t,"Subscription ID":n,Application:o.Application,"Sandbox mode":o["Sandbox mode"],Status:"success","User name":"Click to load","User email":"Click to load","Plan ID":o["Plan ID"],"Status (subscription object)":"SUCCESS",Log:"Created using SubSocket button"});fetch(`${"https://www.subsocket.io/"+e+"/api/1.1/obj/Subscriptions"}`,{method:"POST",body:i,headers:{"Content-type":"application/json"}}).then(function(t){console.log("Subscription successfully created in SubSocket")}).catch(function(t){console.warn("Something went wrong with creating the subsciption in SubSocket.",t)})}}
